<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Home Page</title>
        <link rel="icon" href="../images/icons/g4g_icon.png">
        <link rel="stylesheet" href="../css/home_styles.css">
    </head>
    <body>
        <div id="page-cover" class="home-background">
            <header>
                <h1>Hello <span id="username"></span>!</h1>
            </header>
        
            <nav class="menu">
                <button onclick="navigateTo('../html/games.html')">Games</button>
                <button onclick="navigateTo('../html/scores.html')">Scores</button>
                <button onclick="navigateTo('../html/profile.html')">Profile</button>
                <button onclick="navigateTo('../html/statistics.html')">Statistics</button>
            </nav>
        
            <footer>
                <button id="logoutButton">Logout</button>
            </footer>
        </div>

        <script>
            // Check if loggedInUser does not exist in local storage
            const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
            if (!loggedInUser) {
                window.location.href = '../index.html';
            }

            // Retrieve username from local storage
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.user_id === loggedInUser.user_id);

            // Update "hello message"
            document.getElementById('username').innerText = user.username;

            function navigateTo(page) {
                window.location.href = page;
            }

            // Logout Button Clicked
            document.getElementById('logoutButton').addEventListener('click', () => {
                localStorage.removeItem('loggedInUser');
                window.location.href = '../index.html';
            });
        </script>
    </body>
</html>